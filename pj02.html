<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ระบบคะแนนพฤติกรรมนักเรียนวิทยาลัยเทคโนโลยีสายมิตรปราจีนบุรี</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{
    --primary-color:#28a745;
    --secondary-color:#6c757d;
    --info-color:#17a2b8;
    --danger-color:#dc3545;
    --light-bg:#f8f9fa;
    --dark-bg:#343a40;
    --white:#fff;
    --border-color:#dee2e6;
    --font:'Kanit',sans-serif;
}
*{box-sizing:border-box;}
body{font-family:var(--font);background:var(--light-bg);margin:0;color:var(--dark-bg);}
.container{max-width:1200px;margin:0 auto;padding:20px;}
.login-container{display:flex;justify-content:center;align-items:center;height:100vh;background:var(--primary-color);}
.login-card{background:var(--white);padding:40px;border-radius:10px;box-shadow:0 4px 15px rgba(0,0,0,.1);width:100%;max-width:400px;text-align:center;}
.login-card h2{margin-bottom:25px;font-weight:600;}
.form-group{margin-bottom:20px;text-align:left;}
.form-group label{display:block;margin-bottom:5px;}
.form-control{width:100%;padding:12px;border:1px solid var(--border-color);border-radius:5px;font-family:var(--font);font-size:16px;}
.form-control:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 .2rem rgba(40,167,69,.25);}
.role-selection{display:flex;justify-content:space-around;margin-top:10px;}
.btn{width:100%;padding:12px;border:none;border-radius:5px;font-size:18px;font-weight:600;cursor:pointer;transition:.3s;}
.btn-primary{background:var(--primary-color);color:var(--white);}
.btn-primary:hover{background:#218838;}
.alert{padding:15px;background:var(--danger-color);color:var(--white);border-radius:5px;margin-top:20px;font-size:14px;text-align:center;}
.dashboard-page{display:flex;flex-direction:column;min-height:100vh;}
.header{background:var(--white);padding:10px 20px;box-shadow:0 2px 4px rgba(0,0,0,.05);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;}
.header-left{display:flex;align-items:center;gap:12px;}
.header-left img{height:42px;width:42px;border-radius:50%;object-fit:cover;}
.header-left h1{font-size:20px;margin:0;font-weight:600;}
.header-right ul{list-style:none;margin:0;padding:0;display:flex;gap:20px;}
.header-right a{text-decoration:none;color:var(--secondary-color);}
.header-right a:hover{color:var(--primary-color);}
.main-content{padding:20px;flex-grow:1;}
.teacher-action{text-align:center;margin-bottom:30px;}
.btn-action{padding:15px 30px;font-size:20px;font-weight:600;border:none;border-radius:8px;cursor:pointer;transition:.2s;font-family:var(--font);}
.btn-action.btn-primary{background:var(--primary-color);color:var(--white);}
.btn-action.btn-primary:hover{transform:translateY(-2px);box-shadow:0 4px 10px rgba(40,167,69,.3);}
.stats-section{display:flex;align-items:center;gap:10px;margin-bottom:20px;flex-wrap:wrap;}
.stat-chip{padding:6px 12px;border-radius:20px;font-size:14px;font-weight:600;}
.positive-chip{background:var(--primary-color);color:var(--white);}
.negative-chip{background:var(--danger-color);color:var(--white);}
.table-container{background:var(--white);padding:20px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.05);}
.table-controls{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;margin-bottom:15px;gap:15px;}
.search-box input{padding:8px 12px;border:1px solid var(--border-color);border-radius:5px;font-family:var(--font);font-size:14px;width:260px;}
table{width:100%;border-collapse:collapse;}
thead tr{background:var(--light-bg);}
th,td{padding:12px 15px;border:1px solid var(--border-color);}
th{cursor:pointer;position:relative;user-select:none;}
th i{margin-left:5px;font-size:12px;color:var(--secondary-color);transition:transform .2s;}
tbody tr:nth-of-type(even){background:#fbfbfb;}
tbody tr:hover{background:#f1f1f1;}
.rank-badge{font-size:1.05em;}
.pagination-container{display:flex;justify-content:space-between;align-items:center;margin-top:20px;flex-wrap:wrap;gap:10px;}
.pagination-buttons{display:flex;gap:6px;flex-wrap:wrap;}
.pagination-buttons button{padding:8px 12px;border:1px solid var(--border-color);background:var(--white);border-radius:5px;cursor:pointer;}
.pagination-buttons button.active{background:var(--primary-color);color:#fff;border-color:var(--primary-color);}
.pagination-buttons button:disabled{opacity:.5;cursor:not-allowed;}
.hidden{display:none!important;}
.chip{padding:4px 10px;border-radius:999px;font-weight:600;font-size:13px;display:inline-block;}
.chip.plus{background:var(--primary-color);color:#fff;}
.chip.minus{background:var(--danger-color);color:#fff;}
.chip.total{background:var(--info-color);color:#fff;}
.modal{display:none;position:fixed;z-index:10;left:0;top:0;width:100%;height:100%;overflow:auto;background:rgba(0,0,0,0.5);}
.modal-content{background:#fff;margin:10% auto;padding:20px;border-radius:10px;width:90%;max-width:400px;position:relative;}
.close-btn{position:absolute;top:10px;right:15px;font-size:24px;font-weight:bold;color:#333;cursor:pointer;}
.modal-content label{display:block;margin-top:15px;font-weight:600;}
.modal-content input, .modal-content select{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;font-size:16px;}
.modal-content button{margin-top:20px;width:100%;padding:12px;border:none;border-radius:5px;background:var(--primary-color);color:#fff;font-size:16px;font-weight:600;cursor:pointer;}
@media (max-width: 768px) {
    .table-controls {flex-direction: column;align-items: flex-start;}
    .search-box input {width: 100%;}
}
</style>
</head>
<body>

<div id="loginPage" class="login-container">
    <div class="login-card">
        <h2>เข้าสู่ระบบ</h2>
        <form id="loginForm">
            <div class="form-group">
                <label for="username">ชื่อผู้ใช้</label>
                <input id="username" class="form-control" required />
            </div>
            <div class="form-group">
                <label for="password">รหัสผ่าน</label>
                <input id="password" type="password" class="form-control" required />
            </div>
            <div class="form-group">
                <label>บทบาท</label>
                <div class="role-selection">
                    <label><input type="radio" name="role" value="teacher" checked> ครู</label>
                    <label><input type="radio" name="role" value="student"> นักเรียน</label>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">เข้าสู่ระบบ</button>
            <div id="loginAlert" class="alert hidden"></div>
        </form>
    </div>
</div>

<div id="dashboardPage" class="dashboard-page hidden">
    <header class="header">
        <div class="header-left">
            <img id="schoolLogo" src="img/school_logo.png" alt="School Logo" onerror="this.src='https://via.placeholder.com/150/28a745/FFFFFF?text=Logo'; this.onerror=null;">
            <h1>ระบบคะแนนพฤติกรรมนักเรียนวิทยาลัยเทคโนโลยีสายมิตรปราจีนบุรี</h1>
        </div>
        <nav class="header-right">
            <ul>
                <li><a href="#">หน้าแรก</a></li>
                <li class="teacher-menu-item hidden"><a href="#">บันทึกพฤติกรรม</a></li>
            </ul>
        </nav>
    </header>
    <main class="main-content">
        <div class="container">
            <div id="teacherButtonContainer" class="teacher-action hidden">
                <button id="addBehaviorBtn" class="btn-action btn-primary"><i class="fas fa-plus-circle"></i> บันทึกพฤติกรรม</button>
            </div>
            <div class="stats-section">
                <h4 style="margin:0">สถิติพฤติกรรม :</h4>
                <span class="stat-chip positive-chip">พึงประสงค์</span>
                <span class="stat-chip negative-chip">ไม่พึงประสงค์</span>
            </div>
            <div class="table-container">
                <div class="table-controls">
                    <div class="search-box">
                        <input id="searchInput" type="text" placeholder="ค้นหาชื่อนักเรียน...">
                    </div>
                    <div class="info-text"><span id="paginationInfo"></span></div>
                </div>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th data-sort="rank">อันดับ <i class="fas fa-sort"></i></th>
                            <th data-sort="no">เลขที่ <i class="fas fa-sort"></i></th>
                            <th data-sort="name">ชื่อ - นามสกุล(ห้อง) <i class="fas fa-sort"></i></th>
                            <th data-sort="plus">คะแนนบวก <i class="fas fa-sort"></i></th>
                            <th data-sort="minus">คะแนนลบ <i class="fas fa-sort"></i></th>
                            <th data-sort="total">คะแนนรวม <i class="fas fa-sort"></i></th>
                        </tr>
                    </thead>
                    <tbody id="studentTableBody"></tbody>
                </table>
                <div class="pagination-container">
                    <div class="pagination-buttons" id="pagination"></div>
                </div>
            </div>
        </div>
    </main>
</div>

<div id="behaviorModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" id="closeModal">&times;</span>
        <h3>บันทึกพฤติกรรมนักเรียน</h3>
        <label>นักเรียน</label>
        <select id="studentSelect"></select>
        <label>คะแนนบวก</label>
        <input type="number" id="plusInput" value="0" min="0">
        <label>คะแนนลบ</label>
        <input type="number" id="minusInput" value="0" min="0">
        <button id="saveBehaviorBtn">บันทึก</button>
    </div>
</div>

<script>
const students = [
    { no: 1, name: "นางสาวนัชชา ลิ้มชีว (ปวช2คอม)", plus: 200, minus: 70 },
    { no: 2, name: "นางสาวกชกร คุมสิงห์ (ปวช2คอม)", plus: 150, minus: 25 },
    { no: 3, name: "นายสมชาย ใจดี (ม.4/1)", plus: 250, minus: 50 },
    { no: 4, name: "เด็กหญิงนภัสสร รุ่งเรือง (ป.5/2)", plus: 300, minus: 10 },
    { no: 5, name: "นายธนพล สุขใจ (ม.6/1)", plus: 180, minus: 20 },
    { no: 6, name: "นางสาวชนาภา รุ่งเรือง (ม.2/3)", plus: 120, minus: 30 },
    { no: 7, name: "นายจิรวัฒน์ มั่นคง (ม.4/5)", plus: 220, minus: 45 },
    { no: 8, name: "นางสาวกุลธิดา สุขเกษม (ม.5/2)", plus: 175, minus: 15 },
    { no: 9, name: "นายณัฐพงษ์ ใจดี (ม.3/4)", plus: 280, minus: 60 },
    { no: 10, name: "เด็กชายพีรพัฒน์ มีชัย (ป.6/1)", plus: 195, minus: 5 },
    { no: 11, name: "นางสาวอภิญญา ว่องไว (ปวช1บัญชี)", plus: 170, minus: 85 },
    { no: 12, name: "นายชาญชัย มุ่งมั่น (ม.4/4)", plus: 215, minus: 40 },
    { no: 13, name: "นางสาวปรียาพร พิศิษฐ์ (ปวส2การตลาด)", plus: 185, minus: 95 },
    { no: 14, name: "นายอนันต์ ศรีสุข (ม.6/1)", plus: 240, minus: 65 },
    { no: 15, name: "เด็กชายพีรพล อดิศัย (ป.3/2)", plus: 275, minus: 15 },
    { no: 16, name: "นางสาวกัญญาณัฐ อิ่มสุข (ปวช3คอม)", plus: 205, minus: 70 },
    { no: 17, name: "นายศักดิ์สิทธิ์ สุขเกษม (ม.3/4)", plus: 165, minus: 105 },
    { no: 18, name: "นางสาวนารีรัตน์ มั่นคง (ม.2/1)", plus: 225, minus: 50 },
    { no: 19, name: "นายยุทธนา สุขเกษม (ปวช2บัญชี)", plus: 180, minus: 95 },
    { no: 20, name: "เด็กหญิงชลธิชา มีคุณ (ป.4/3)", plus: 235, minus: 45 },
    { no: 21, name: "นายปิติพงศ์ ยิ้มแย้ม (ม.5/1)", plus: 255, minus: 30 },
    { no: 22, name: "นางสาวพัชรีพร ชัยชนะ (ปวส1คอม)", plus: 190, minus: 80 },
    { no: 23, name: "นายมานะ วุฒิชัย (ม.4/5)", plus: 200, minus: 60 },
    { no: 24, name: "นางสาวอารยา อ่อนหวาน (ปวช3บัญชี)", plus: 210, minus: 60 },
    { no: 25, name: "นายชัชวาล พากเพียร (ปวส2คอม)", plus: 175, minus: 45 },
    { no: 26, name: "นางสาวมลิวัลย์ กุลสตรี (ม.3/2)", plus: 220, minus: 90 },
    { no: 27, name: "เด็กชายประวิทย์ มีวินัย (ป.6/3)", plus: 290, minus: 20 },
    { no: 28, name: "นายวรพจน์ จิตอาสา (ม.1/1)", plus: 160, minus: 100 },
    { no: 29, name: "นางสาวสุภาภรณ์ รักเรียน (ปวส1บัญชี)", plus: 140, minus: 35 },
    { no: 30, name: "นายภานุพงศ์ สุภาพ (ม.2/5)", plus: 230, minus: 75 },
    { no: 31, name: "เด็กหญิงอรุณี ร่าเริง (ป.1/1)", plus: 260, minus: 5 },
    { no: 32, name: "นายศุภชัย ฉลาด (ม.5/2)", plus: 195, minus: 55 },
    { no: 33, name: "นายสมเกียรติ พลอยงาม (ม.4/2)", plus: 210, minus: 10 },
    { no: 34, name: "นางสาวรัตนาภรณ์ จันทร์ฉาย (ปวช1คอม)", plus: 155, minus: 40 },
    { no: 35, name: "นายสุริยา แสงทอง (ม.3/1)", plus: 270, minus: 20 },
    { no: 36, name: "เด็กชายธนาธิป สุภาพ (ป.5/3)", plus: 180, minus: 5 },
    { no: 37, name: "นางสาวอรทัย ศรีสุข (ม.6/2)", plus: 225, minus: 35 },
    { no: 38, name: "นายภาณุวัฒน์ ก้าวไกล (ปวส2บัญชี)", plus: 160, minus: 75 },
    { no: 39, name: "เด็กหญิงอัจฉราพร มีคุณ (ป.2/1)", plus: 290, minus: 15 },
    { no: 40, name: "นายสมภพ รุ่งอรุณ (ม.1/3)", plus: 190, minus: 55 },
    { no: 41, name: "นางสาวจิดาภา สุริยัน (ปวช2บัญชี)", plus: 175, minus: 25 },
    { no: 42, name: "เด็กชายทวีชัย ชัยชนะ (ป.4/2)", plus: 250, minus: 30 },
    { no: 43, name: "นางสาวรุ้งนภา แก้วใส (ม.3/3)", plus: 215, minus: 50 },
    { no: 44, name: "นายธนภัทร ใจดี (ม.5/5)", plus: 145, minus: 65 },
    { no: 45, name: "นางสาววรรณภา อรุณรัตน์ (ปวช3การตลาด)", plus: 190, minus: 40 },
    { no: 46, name: "นายพงศกร สุขสันต์ (ม.2/4)", plus: 260, minus: 10 },
    { no: 47, name: "เด็กหญิงนวลจันทร์ มีโชค (ป.1/2)", plus: 280, minus: 5 },
    { no: 48, name: "นายชินวัตร รักษา (ม.4/6)", plus: 185, minus: 80 },
    { no: 49, name: "นางสาวช่อผกา พฤกษา (ปวส1การตลาด)", plus: 130, minus: 30 },
    { no: 50, name: "นายวุฒิชัย มีทรัพย์ (ม.6/3)", plus: 200, minus: 25 },
    { no: 51, name: "เด็กหญิงปัทมาพร จิตใส (ป.5/4)", plus: 240, minus: 5 },
    { no: 52, name: "นายธนกร พลังใจ (ปวช1คอม)", plus: 175, minus: 55 },
    { no: 53, name: "นางสาวพิกุลทอง อ่อนหวาน (ม.3/5)", plus: 165, minus: 30 },
    { no: 54, name: "นายสมศักดิ์ ขยันยิ่ง (ม.1/2)", plus: 230, minus: 40 },
    { no: 55, name: "นางสาวรัตติกาล สุขสวัสดิ์ (ปวส2คอม)", plus: 180, minus: 90 },
    { no: 56, name: "นายกิติชัย เกียรติยศ (ม.2/2)", plus: 210, minus: 50 },
    { no: 57, name: "เด็กชายปิยวัฒน์ รักดี (ป.4/4)", plus: 270, minus: 15 },
    { no: 58, name: "นางสาววารุณี ผิวผ่อง (ปวช3บัญชี)", plus: 195, minus: 25 },
    { no: 59, name: "นายชัชพล ชำนาญ (ม.5/3)", plus: 220, minus: 80 },
    { no: 60, name: "นางสาวกานต์ชนก สุขุม (ม.4/3)", plus: 150, minus: 10 },
    { no: 61, name: "นายอนุกูล พลแกร่ง (ปวส1บัญชี)", plus: 255, minus: 60 },
    { no: 62, name: "นางสาววิภาดา พิมพารัตน์ (ม.2/6)", plus: 185, minus: 45 },
    { no: 63, name: "นายชัยสิทธิ์ เกษมสุข (ปวช2การตลาด)", plus: 170, minus: 70 },
    { no: 64, name: "นางสาวพัชรินทร์ รื่นรมย์ (ม.3/6)", plus: 240, minus: 35 },
    { no: 65, name: "นายธีระศักดิ์ อุดมทรัพย์ (ปวส1คอม)", plus: 195, minus: 95 },
    { no: 66, name: "นางสาวสุพัตรา มีลาภ (ม.6/4)", plus: 200, minus: 5 },
    { no: 67, name: "เด็กชายศราวุธ มีชัย (ป.6/2)", plus: 280, minus: 20 },
    { no: 68, name: "นางสาวรุ่งฤดี ศรีสง่า (ปวช2บัญชี)", plus: 160, minus: 80 },
    { no: 69, name: "นายคณิศร วงศ์งาม (ม.5/6)", plus: 215, minus: 40 },
    { no: 70, name: "นางสาววิไลลักษณ์ พรหมศรี (ม.4/1)", plus: 230, minus: 65 }
];

let currentPage = 1, rowsPerPage = 15, currentSortColumn = 'rank', currentSortDirection = 'desc', currentSearchQuery = '';
const loginPage = document.getElementById('loginPage');
const dashboardPage = document.getElementById('dashboardPage');
const loginForm = document.getElementById('loginForm');
const loginAlert = document.getElementById('loginAlert');
const teacherItems = document.querySelectorAll('.teacher-menu-item');
const teacherButtonContainer = document.getElementById('teacherButtonContainer');
const studentTableBody = document.getElementById('studentTableBody');
const pagination = document.getElementById('pagination');
const paginationInfo = document.getElementById('paginationInfo');
const searchInput = document.getElementById('searchInput');
const addBehaviorBtn = document.getElementById('addBehaviorBtn');
const behaviorModal = document.getElementById('behaviorModal');
const closeModal = document.getElementById('closeModal');
const studentSelect = document.getElementById('studentSelect');
const plusInput = document.getElementById('plusInput');
const minusInput = document.getElementById('minusInput');
const saveBehaviorBtn = document.getElementById('saveBehaviorBtn');

loginForm.addEventListener('submit', e => {
    e.preventDefault();
    const role = document.querySelector('input[name="role"]:checked').value;
    if(!loginForm.username.value || !loginForm.password.value){
        loginAlert.textContent="กรุณากรอกข้อมูลให้ครบ";
        loginAlert.classList.remove('hidden');
        return;
    }
    loginPage.classList.add('hidden');
    dashboardPage.classList.remove('hidden');
    if(role==='teacher'){
        teacherItems.forEach(el => el.classList.remove('hidden'));
        teacherButtonContainer.classList.remove('hidden');
    }
    populateStudentSelect();
    renderTable();
});

function calculateTotalScore(){
    return students.map(s=>({...s, total:s.plus-s.minus}));
}

function filterData(){
    const data=calculateTotalScore();
    if(!currentSearchQuery) return data;
    return data.filter(s=>s.name.toLowerCase().includes(currentSearchQuery)||s.no.toString().includes(currentSearchQuery));
}

function renderTable(data=filterData()){
    const sorted=[...data].sort((a,b)=>{
        let aVal=currentSortColumn==='rank'||currentSortColumn==='total'?a.total:a[currentSortColumn];
        let bVal=currentSortColumn==='rank'||currentSortColumn==='total'?b.total:b[currentSortColumn];
        if(typeof aVal==='string') return currentSortDirection==='asc'?aVal.localeCompare(bVal):bVal.localeCompare(aVal);
        return currentSortDirection==='asc'?aVal-bVal:bVal-aVal;
    });
    const ranked=sorted.map((s,idx)=>({...s, rank:idx+1}));
    const start=(currentPage-1)*rowsPerPage;
    const end=start+rowsPerPage;
    const pageData=ranked.slice(start,end);
    studentTableBody.innerHTML='';
    pageData.forEach(s=>{
        const tr=document.createElement('tr');
        const medal=s.rank===1?'🥇':s.rank===2?'🥈':s.rank===3?'🥉':'';
        tr.innerHTML=`
        <td data-label="อันดับ"><span class="rank-badge">${medal} ${s.rank}</span></td>
        <td data-label="เลขที่">${s.no}</td>
        <td data-label="ชื่อ - นามสกุล(ห้อง)">${s.name}</td>
        <td data-label="คะแนนบวก"><span class="chip plus">${s.plus}</span></td>
        <td data-label="คะแนนลบ"><span class="chip minus">${s.minus}</span></td>
        <td data-label="คะแนนรวม"><span class="chip total">${s.total}</span></td>
        `;
        studentTableBody.appendChild(tr);
    });
    paginationInfo.textContent=`แสดง ${start+1}-${Math.min(end,ranked.length)} จากทั้งหมด ${ranked.length} รายการ`;
    renderPagination(ranked.length);
}

function renderPagination(totalItems){
    const totalPages=Math.ceil(totalItems/rowsPerPage);
    pagination.innerHTML='';
    const prevBtn=document.createElement('button');
    prevBtn.textContent='ก่อนหน้า';
    prevBtn.disabled=currentPage===1;
    prevBtn.addEventListener('click',()=>{currentPage--; renderTable();});
    pagination.appendChild(prevBtn);
    for(let i=1;i<=totalPages;i++){
        const btn=document.createElement('button');
        btn.textContent=i;
        if(i===currentPage) btn.classList.add('active');
        btn.addEventListener('click',()=>{currentPage=i; renderTable();});
        pagination.appendChild(btn);
    }
    const nextBtn=document.createElement('button');
    nextBtn.textContent='ถัดไป';
    nextBtn.disabled=currentPage===totalPages;
    nextBtn.addEventListener('click',()=>{currentPage++; renderTable();});
    pagination.appendChild(nextBtn);
}

searchInput.addEventListener('input', e=>{currentSearchQuery=e.target.value.toLowerCase();currentPage=1;renderTable();});
document.querySelectorAll('th').forEach(th=>{th.addEventListener('click',()=>{const column=th.dataset.sort;if(currentSortColumn===column){currentSortDirection=currentSortDirection==='asc'?'desc':'asc';}else{currentSortColumn=column;currentSortDirection='asc';}renderTable();});});

function populateStudentSelect(){
    studentSelect.innerHTML='';
    students.forEach(s=>{
        const opt=document.createElement('option');
        opt.value=s.no;
        opt.textContent=s.name;
        studentSelect.appendChild(opt);
    });
}

addBehaviorBtn.addEventListener('click',()=>{behaviorModal.style.display='block';});
closeModal.addEventListener('click',()=>{behaviorModal.style.display='none';});
window.addEventListener('click',e=>{if(e.target===behaviorModal) behaviorModal.style.display='none';});

saveBehaviorBtn.addEventListener('click',()=>{
    const selectedNo=parseInt(studentSelect.value);
    const plus=parseInt(plusInput.value)||0;
    const minus=parseInt(minusInput.value)||0;
    const student=students.find(s=>s.no===selectedNo);
    if(student){student.plus+=plus;student.minus+=minus;}
    behaviorModal.style.display='none';
    plusInput.value=0; minusInput.value=0;
    renderTable();
});
</script>

</body>
</html>